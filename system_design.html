<!DOCTYPE html>
<html lang="en" class="no-js" >
<head>

    <!--- basic page needs
    ================================================== -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>System Design</title>

    <script>
        document.documentElement.classList.remove('no-js');
        document.documentElement.classList.add('js');
    </script>

    <!-- CSS
    ================================================== -->
    <link rel="stylesheet" href="css/vendor.css">
    <link rel="stylesheet" href="css/styles.css">

    <!-- favicons
    ================================================== -->
    <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
    <link rel="manifest" href="site.webmanifest">

</head>


<body id="top">

    
    <!-- preloader
    ================================================== -->
    <div id="preloader">
        <div id="loader" class="dots-fade">
            <div></div>
            <div></div>
            <div></div>
        </div>
    </div>


    <!-- page wrap
    ================================================== -->
    <div id="page" class="s-pagewrap ss-home">


        <!-- # site header 
        ================================================== -->
        <header class="s-header">

            <div class="row s-header__inner width-sixteen-col">

                <div class="s-header__block">
                    <div class="s-header__logo">
                        <a class="logo" href="index.html">
                            <img src="images/Emendi.png" alt="Homepage">
                        </a>
                    </div>

                    <a class="s-header__menu-toggle" href="#0"><span>Menu</span></a>
                </div> <!-- end s-header__block -->

                <nav class="s-header__nav">
    
                    <ul class="s-header__menu-links">
                        <li class="current"><a href="index.html">Home</a></li>
                        <li><a href="requirements.html">Requirements</a></li>
                        <li><a href="research.html">Research</a></li>
                        <li><a href="algorithms.html">Algorithms</a></li>
                        <li><a href="ui_design.html">UI Design</a></li>
                        <li><a href="system_design.html">System Design</a></li>
                        <li><a href="implementation.html">Implementation</a></li>
                        <li><a href="testing.html">Testing</a></li>
                        <li><a href="evaluation.html">Evaluation</a></li>
                        <!-- <li><a href="appendices.html">Appendices</a></li>
                        <li><a href="blog.html">Blog</a></li> -->
                        <li class="dropdown">
                            <a class="dropbtn">Appendices <span class="dropdown-indicator">&#x25BC;</span></a>
                            <div class="dropdown-content">
                              <a href="blog.html">Blog</a>
                              <a href="usermanual.html">User Manual</a>
                              <a href="deploymentmanual.html">Deployment <br> Manual</a>
                              <a href="legalstatement.html">Legal <br> Statement</a>
                              <a href="monthlyvideos.html">Monthly Videos</a>
                              <!-- Add any additional links for the dropdown here -->
                            </div>
                          </li>
                          
                          
                    </ul> <!-- s-header__menu-links -->
                    <div class="s-header__contact">
                        <!-- <a href="contact.html" class="btn btn--primary s-header__contact-btn">Let's Work Together</a>                         -->
                    </div> <!-- s-header__contact -->
    
                </nav> <!-- end s-header__nav -->

            </div> <!-- end s-header__inner -->

        </header> <!-- end s-header -->


        <!-- # site main content
        ================================================== -->
        <section id="content" class="s-content">

            <section class="s-pageheader pageheader">
                 <div class="row">
                     <div class="column xl-12">
                         <h1 class="page-title">
                             <span class="page-title__small-type text-pretitle">The System</span>
                             System Design
                         </h1>
                         
                     </div>
                 </div>
            </section> <!-- end pageheader --> 

            
            <section class="s-pagecontent pagecontent">  
                
                <!--<div class="row pagemedia">
                    <d class="column xl-12">
                        <figure class="page-media">                                
                            <img src="images/thumbs/about/about-1200.jpg" 
                                 srcset="images/thumbs/about/about-2400.jpg 2400w, 
                                         images/thumbs/about/about-1200.jpg 1200w, 
                                         images/thumbs/about/about-600.jpg 600w" sizes="(max-width: 2400px) 100vw, 2400px" alt="">
                        </figure>
                    </d>
                </div> <!-- end pagemedia --> 

                <div class="row width-narrower pagemain">
                    <div class="column xl-12"> 
                        
                        <h2>Design Pattern</h2>
                        <p>
                            In the development of our Streamlit-based sentiment analysis and audio generation application, we have meticulously adhered to the Model-View-Controller (MVC) design pattern. 
                        </p>
                        <img src="images/mvc.png" alt="MVC Diagram" style="width: 100%; height: auto;">
                        <p>This architectural pattern has been employed to ensure a well-organised codebase, promoting the separation of concerns and facilitating easier maintenance and scalability. The following is a description of how each component of the MVC pattern is represented within our application:</p>
                        <h5>Model</h5>
                        <p>The Model in our application is responsible for the data handling, logic, and rules of the system. It is a direct representation of our application's data structure and a bridge to the data source. The Model is implemented through several key components and classes:
                        </p>
                        <ul>
                            <p><li><code>AnalysisManager</code> class: Contains methods such as <code>analyze_sentiment</code>, <code>analyze_bert_sentiment</code>, <code>analyze_distilroberta_sentiment</code>, and <code>analyze_emotion_text_classifier_sentiment</code>, which are used to process and analyse the text input for sentiment and emotion. There are different functions for different sentiment analysis models, allowing for flexibility and scalability in the future.
                            </li></p>
                            <p><li><code>FileManager</code> class: Manages data persistence, specifically responsible for writing the analysed sentiment data to <code>results.json</code>, ensuring a structured and persistent data format.
                            </li></p>
                            <p><li><code>Utility</code> class: Provides auxiliary functions including <code>generate_unique_id</code> and <code>check_audio_file_exists</code>, which aid in reusing previously generated audio files.</li></p>
                            <p> <li>Vall-E-X model generates the emotional audio based on the text and prompt given.
                            </li></p>
                           
                        </ul>
                        <h5>View</h5>
                        <p>The View is our application's user interface, built using Streamlit, and it is the visual representation through which the user interacts with the application. The Streamlit framework allows us to create a responsive and interactive interface that reacts to user input and reflects changes in the Model. It comprises:</p>
                        <ul>
                            <p><li>Text input fields where users can input the text they wish to analyse.
                            </li></p>
                            <p><li>"Smart Generate" and "Manual Generate" buttons that the user can interact with to trigger audio generation.
                            </li></p>
                            <p><li>A dropdown box allowing the user to select specific emotions for manual audio generation.
                            </li></p>
                            <p><li>The dynamic display of messages and the audio player that uses st.audio() to play the generated audio files.
                            </li></p>
                            <p><li>When the text input is empty but the user has pressed one of the generation buttons, it will update the View directly, displaying an error message. This is because we cannot generate audio without any text.
                            </li></p>
                        </ul>
                       
                        <h5>Controller</h5>
                        <p>The Controller acts as the intermediary between the View and the Model, processing user inputs, invoking changes in the Model, and updating the View. Our Controller logic is encapsulated within:</p>
                        <ul>
                            <p><li><code>AudioGenerator</code> class: A class with methods <code>analyse_and_generate_audio</code> and <code>generate_audio_with_selected_emotion</code> that determine whether to generate audio automatically or based on user-selected emotion. It handles the application's decision-making processes and translates user actions into Model updates.
                            </li></p>
                            <p><li><code>app.py</code>: Serves as the entry point for user interactions, capturing the events from the Streamlit interface and utilising <code>AudioGenerator</code> class methods to respond to these events accordingly.</li></p>
                            <p><li><code>generator.py</code>: Python script that orchestrates the audio file generation process by setting up the required environment, managing the flow from reading <code>results.json</code> to calling <code>voice_generator.py</code> with the correct parameters.</li></p>
                            <p><li><code>voice_generator.py</code>: Python script that handles the final step of audio generation based on the Model's data.</li></p>
                        </ul>

                        <p>By implementing the MVC pattern, our application ensures a clear distiction between the user interface, data processing, and control logic. This separation facilitates ease of development, testing, and future enhancements, and it has been pivotal in maintaining a clean and modular architecture throughout our application's lifecycle.

                        </p>

                        

                        <h2>System Design Diagram</h2>
                        
                        <p>The following diagram illustrates the system design of our application:</p>
                        <p>First, the user interacts with the application by typing text and/or pressing buttons.</p>
                        <p>The <code>AnalysisManager</code> class is responsible for the sentiment analysis process. After the concluded text has been generated through the process of emotional classification, both the text and emotion will be stored in <code>results.json</code>.</p>
                        <p>The Python scripts <code>generator.py</code> and <code>voice_generator.py</code>  will then read from specific <code>json</code>files to ensure that the correct text and emotion is utilised in audio generation </p>
                        <p><code>voice_generator.py</code> is the script responsible for interacting with the Vall-E-X audio generation. It will read from a <code>json</code> file and access the text and emotional prompt stored to ensure audio generation.</p>
                        <p>Once the emotive audio has been generated, it will be stored in <code>output_wav</code>, and the audio player function in Streamlit will access that directory for audio playback, updating the user interface with a new audio file to play.</p>
                        <a href="images/system.png" target="_blank">
                            <img src="images/44.png" alt="System Design Diagram" style="width: 100%; height: auto;">

                    </div> <!-- end grid-block-->
                </div> <!-- end pagemain -->

           </section> <!-- pagecontent -->

        <!-- # footer 
        ================================================== -->
        <footer class="s-footer">
            <div class="row s-footer__content">
                <div class="column xl-6 lg-6 md-12 s-footer__block s-footer__about">                    
                    <h3>About EMENDi2</h3>
                    <p>
                    EMENDi2 aims to significantly improve the communication process for MND patients by introducing an emotional voice synthesiser. 
                    </p>               
                </div>                
                <div class="column xl-3 lg-6 md-12 s-footer__block s-footer__site-links">
                    
                </div>
                
            
            <div class="row s-footer__bottom">
                <div class="column xl-6 lg-12">
                    <ul class="link-list">
                        <li><a href="index.html">Home</a></li>
                        <li><a href="requirements.html">Requirements</a></li>
                        <li><a href="research.html">Research</a></li>
                        <li><a href="algorithms.html">Algorithms</a></li>
                        <li><a href="ui_design.html">UI Design</a></li>
                        <li class="current"><a href="system_design.html">System Design</a></li>
                        <li><a href="implementation.html">Implementation</a></li>
                        <li><a href="testing.html">Testing</a></li>
                        <li><a href="evaluation.html">Evaluation</a></li>
                        <li><a href="appendices.html">Appendices</a></li>
                        <li><a href="blog.html">Blog</a></li>
                    </ul>
                </div>
                <div class="column xl-6 lg-12">
                    <p class="ss-copyright">
                        <!-- <span>Â© Copyright Monica 2022</span> 
                        <span>Design by <a href="https://www.styleshout.com/">StyleShout</a> Distribution By <a href="https://themewagon.com">ThemeWagon</a></span> -->
                    </p>
                </div>

                <div class="ss-go-top">
                    <a class="smoothscroll" title="Back to Top" href="#top">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="36" height="36" fill="none" stroke="#ffffff" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">&lt;!--!  Atomicons Free 1.00 by @atisalab License - https://atomicons.com/license/ (Icons: CC BY 4.0) Copyright 2021 Atomicons --&gt;<polyline points="17 11 12 6 7 11"></polyline><line x1="12" y1="18" x2="12" y2="6"></line></svg>
                    </a>
                </div> <!-- end ss-go-top -->
            </div>
            
        </footer> <!-- end s-footer -->

    </div> <!-- end page-wrap -->


    </div> <!-- end page-wrap -->
    <!-- Java Script
    ================================================== -->
    <script src="js/plugins.js"></script>
    <script src="js/main.js"></script>

</body>
</html>